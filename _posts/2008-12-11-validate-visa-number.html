---
title: Validate Visa number
date: 2008-12-11 03:59:00 Z
categories:
- IT Thought
layout: post
type: post
status: publish
meta:
  blogger_blog: deltaflyer.blogspot.com
  blogger_permalink: "/2008/12/validate-visa-number.html"
  blogger_author: Charnsak
  crp_related_posts: <div id="crp_related" class="crp_related"><h3>เรื่องที่เกี่ยวข้อง:</h3><ul><li><a
    href="http://www.charnsak.com/2013/10/%e0%b8%9a%e0%b9%89%e0%b8%b2%e0%b8%99%e0%b9%80%e0%b8%a1%e0%b8%b7%e0%b8%ad%e0%b8%87%e0%b9%80%e0%b8%a3%e0%b8%b2%e0%b8%a1%e0%b8%b5-%e0%b8%ab%e0%b9%89%e0%b8%ad%e0%b8%87%e0%b8%aa%e0%b8%b3%e0%b8%ab%e0%b8%a3/"    target="_blank"  class="crp_title">บ้านเมืองเรามี
    &#8220;ห้องสำหรับสูบบุหรี่&#8221; ที่นี่มี &#8220;ห้องห้ามสูบบุหรี่”</a><span
    class="crp_date"> October 25, 2013</span> </li><li><a href="http://www.charnsak.com/2012/05/what-is-a-phd/"    target="_blank"  class="crp_title">What
    is a PhD?</a><span class="crp_date"> May 3, 2012</span> </li><li><a href="http://www.charnsak.com/2012/04/information-technology-vs-information-system/"    target="_blank"  class="crp_title">Information
    Technology VS Information System!</a><span class="crp_date"> April 27, 2012</span>
    </li></ul></div>
  _wpt_view_count: '3'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1451508281;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:100;}i:1;a:1:{s:2:"id";i:98;}i:2;a:1:{s:2:"id";i:307;}}}}
author:
  login: Charnsak
  email: charnsak@charnsak.com
  display_name: Charnsak
  first_name: ''
  last_name: ''
---

<p><html> <head> <title>Visa Example</title> <script type="text/javascript"><br  />                function luhnCheckSum(sCardNum) {<br  /><br  />                    var iOddSum = 0;<br  />                    var iEvenSum = 0;<br  />                    var bIsOdd = true;<br  /><br  />                    for (var i=sCardNum.length-1; i >= 0; i--) {<br  /><br  />                        var iNum = parseInt(sCardNum.charAt(i));<br<!--more-->  /><br  />                        if (bIsOdd) {<br  />                            iOddSum += iNum;<br  />                        } else {<br  />                            iNum = iNum * 2;<br  />                            if (iNum > 9) {<br  />                                iNum = eval(iNum.toString().split("").join("+"));<br  />                            }<br  />                            iEvenSum += iNum;<br  />                        }<br  /><br  />                        bIsOdd = !bIsOdd;<br  />                    }<br  /><br  />                    return ((iEvenSum + iOddSum) % 10 == 0);<br  />                }<br  /><br  />                function isValidVisa(sText) {<br  />                    var reVisa = /^(4d{12}(?:d{3})?)$/;<br  /><br  />                    if (reVisa.test(sText)) {<br  />                        return luhnCheckSum(RegExp.$1);<br  />                    } else {<br  />                        return false;<br  />                    }<br  />                }<br  /><br  /><br  />                function validate() {<br  />                    var oInput1 = document.getElementById("txt1");<br  />                    if (isValidVisa(oInput1.value)) {<br  />                        alert("Valid");<br  />                    } else {<br  />                        alert("Invalid!");<br  />                    }<br  /><br  />                }<br  />        </script> </head> <body>
<p>Visa Number: <input type="text" id="txt1" /><br /> <input type="button" value="Validate" onclick="validate()" /></p>
<p> </body> </html> Quote from: Professional JavaScript for Web Developers by Nicholas C. Zakas (Author)  # Paperback: 672 pages # Publisher: Wrox (April 22, 2005) # Language: English # ISBN-10: 0764579088 # ISBN-13: 978-0764579080  </p>
